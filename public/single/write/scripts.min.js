"use strict";!function(){if("undefined"!=typeof knife_theme_custom){var e=document.querySelector(".entry-content");if(null!==e&&void 0!==knife_theme_custom.ajaxurl){var o,r,t,n,a,i=document.createElement("form"),e=(document.querySelector(".entry-content").appendChild(i),u("classes")),e=(0<e.length&&(i.className=e.join(" ")),u("heading")),s=(0<e.length&&((a=document.createElement("h4")).classList.add("form__heading"),a.textContent=e,i.appendChild(a)),i.classList.add("form","form--club"),i.addEventListener("submit",function(e){e.preventDefault();var e={nonce:u("nonce"),time:u("time"),name:i.querySelector('input[name="name"]').value,email:i.querySelector('input[name="email"]').value,subject:i.querySelector('input[name="subject"]').value,text:i.querySelector('textarea[name="text"]').value},n=new XMLHttpRequest;return n.open("POST",knife_theme_custom.ajaxurl+"/club"),n.setRequestHeader("Content-Type","application/json"),n.send(JSON.stringify(e)),d(!(n.onload=function(){if(d(!0),200!==n.status)return m();var e,t=JSON.parse(n.responseText);return t.success?(e=(e=t.message)||"",r.classList.add("icon--done"),o.innerHTML=e,localStorage.removeItem("knife_form_write"),i.reset()):m(t.message)}))}),i),l=knife_theme_custom.fields;for(n in l)l.hasOwnProperty(n)&&c(n,l[n],s);e=s,(a=document.createElement("div")).classList.add("form__control"),(r=document.createElement("span")).classList.add("form__control-loader","icon"),a.appendChild(r),(o=document.createElement("span")).classList.add("form__control-notice"),a.appendChild(o),(t=document.createElement("button")).classList.add("form__control-button","button"),t.innerHTML=u("button","Send"),a.appendChild(t),e.appendChild(a)}}function c(e,t,n){if(void 0!==t.element){var o,r=document.createElement(t.element),a=(r.classList.add("form__field-"+t.element),r.setAttribute("name",e),document.createElement("div"));for(o in a.classList.add("form__field"),a.appendChild(r),delete t.element,t)r.setAttribute(o,t[o]);r.value=(e=e,(JSON.parse(localStorage.getItem("knife_form_write"))||{})[e]||""),r.addEventListener("input",function(e){var t,n,o;t=this.name,n=this.value,(o=JSON.parse(localStorage.getItem("knife_form_write"))||{})[t]=n,localStorage.setItem("knife_form_write",JSON.stringify(o))}),r.addEventListener("focus",function(e){n.classList.remove("form--fold")}),n.appendChild(a)}}function d(e){return r.classList.remove("icon--loop"),void 0===e||!0===e?t.removeAttribute("disabled",""):(r.classList.remove("icon--alert","icon--done"),r.classList.add("icon--loop"),o.innerHTML="",t.setAttribute("disabled",""))}function m(e){e=e||u("warning","Request error");r.classList.add("icon--alert"),o.innerHTML=e}function u(e,t){return knife_theme_custom.hasOwnProperty(e)?knife_theme_custom[e]:t||""}}();